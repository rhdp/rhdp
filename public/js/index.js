$(document).ready(function(){var e,t=io.connect(),n=templatizer,i=[],r=($("#header"),$("#toolbar"),$("#search"),$("#topicbar")),c=$("#content"),a=can.Control.extend({init:function(e,t){this.parent=t.parent},destroy:function(){}}),o=can.Control.extend({init:function(e,t){this.parent=t.parent},click:function(){can.route.attr("article",this.parent.article.title)}});IArticle=can.Construct.extend({setArticle:function(t){e&&e.removeClass("selected"),e=t.entryView.element,c.html(t.view.element.fadeIn(50)),e.addClass("selected")}},{init:function(e){e.html=marked(e.md),this.article=e,this.view=new a(n.article(e),{parent:this}),this.entryView=new o(n.topicnode(e),{parent:this}),r.append(this.entryView.element.hide().fadeIn(50))}});new(can.Control({":article route":function(e){var t=i[e.article];t&&IArticle.setArticle(t)}}))(window);window.location.hash="",can.route.ready(),t.emit("init",{}).on("response",function(){}).on("server.article",function(e){i[e.title]=new IArticle(e)})});