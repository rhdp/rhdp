$(document).ready(function(){var t=io.connect(),e=templatizer,n=[],i=($("#header"),$("#toolbar"),$("#search"),$("#topicbar"),$("#topicport")),r=($("#content"),$("#contentport"));i.escrow(),r.escrow();var c,o=can.Control.extend({init:function(t,e){this.parent=e.parent},destroy:function(){}}),a=can.Control.extend({init:function(t,e){this.parent=e.parent},click:function(){can.route.attr("article",this.parent.article.title)}});IArticle=can.Construct.extend({setArticle:function(t){c&&c.removeClass("selected"),c=t.entryView.element,r.html(t.view.element.fadeIn(50)),c.addClass("selected")}},{init:function(t){t.html=marked(t.md),this.article=t,this.view=new o(e.article(t),{parent:this}),this.entryView=new a(e.topicnode(t),{parent:this}),i.append(this.entryView.element.hide().fadeIn(50))}});new(can.Control({":article route":function(t){var e=n[t.article];e&&IArticle.setArticle(e)}}))(window);window.location.hash="",can.route.ready(),t.emit("init",{}).on("response",function(){}).on("server.article",function(t){n[t.title]=new IArticle(t)})});